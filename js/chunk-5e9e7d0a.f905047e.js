(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e9e7d0a"],{"0fd3":function(e,t,i){},4386:function(e,t,i){e.exports=i.p+"img/view_active.3f03d195.svg"},"7c3b":function(e,t,i){"use strict";var s=i("0fd3"),a=i.n(s);a.a},"84b9":function(e,t,i){"use strict";var s=i("e813"),a=i.n(s);function n(){return new Promise((function(e,t){window.requestIdleCallback&&requestIdleCallback((function(){a.a.get((function(t){var i=t.map((function(e){return e.value})),s=a.a.x64hash128(i.join(""),31);e(s)}))}))}))}t["a"]={device:n}},8768:function(e,t,i){e.exports=i.p+"img/view.86da8dc1.svg"},"9ed6":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-index"},[e._m(0),s("div",{staticClass:"box"},[s("div",{staticClass:"item username"},[s("div",{staticClass:"label"},[e._v("手机号")]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],ref:"username",attrs:{type:"tel",maxlength:"13"},domProps:{value:e.phone},on:{blur:e.usernameBlur,focus:e.usernameFocus,input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e.fix.clear?s("div",{staticClass:"clear",on:{click:e.clearHandel}},[s("img",{attrs:{src:i("eb2f")}})]):e._e()]),s("div",{staticClass:"item password"},[s("div",{staticClass:"label"},[e._v("密码")]),s("div",{staticClass:"input"},["checkbox"===e.view.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],ref:"password",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.input.password)?e._i(e.input.password,null)>-1:e.input.password},on:{input:e.viewChange,change:function(t){var i=e.input.password,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&e.$set(e.input,"password",i.concat([n])):o>-1&&e.$set(e.input,"password",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.input,"password",a)}}}):"radio"===e.view.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],ref:"password",attrs:{type:"radio"},domProps:{checked:e._q(e.input.password,null)},on:{input:e.viewChange,change:function(t){return e.$set(e.input,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],ref:"password",attrs:{type:e.view.type},domProps:{value:e.input.password},on:{input:[function(t){t.target.composing||e.$set(e.input,"password",t.target.value)},e.viewChange]}})]),e.fix.view?s("div",{staticClass:"view",on:{click:e.viewHandel}},[e.view.active?e._e():s("img",{attrs:{src:i("8768")}}),e.view.active?s("img",{attrs:{src:i("4386")}}):e._e()]):e._e()])]),s("div",{staticClass:"button"},[s("div",{staticClass:"item login",on:{click:e.loginHandel}},[e._v("登录")]),s("div",{staticClass:"item register van-hairline--surround",on:{click:function(t){return e.$router.push("/login/register")}}},[e._v("注册")])]),e.forget.active?s("div",{staticClass:"forget"},[e._v("忘记密码?")]):e._e()])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x-title"},[i("div",{staticClass:"title"},[e._v("登录")]),i("div",{staticClass:"text"},[e._v("欢迎来到左手")])])}],n=(i("a481"),i("84b9")),o={data:function(){return{phone:"",input:{username:"",password:"",device:null},fix:{clear:!1,view:!1},view:{type:"password",active:!1},forget:{active:!0}}},watch:{phone:function(e,t){this.phone=e.length>t.length?e.replace(/\s/g,"").replace(/(\d{3})(\d{0,4})(\d{0,4})/,"$1 $2 $3"):this.phone.trim(),this.fix.clear=!!this.phone}},mounted:function(){var e=this;this.$toast.clear(),n["a"].device().then((function(t){e.input.device=t})),window.onresize=function(){e.forget.active=!e.forget.active}},methods:{clearHandel:function(){this.phone="",this.$refs.username.focus()},usernameFocus:function(){""!==this.phone&&(this.fix.clear=!0)},usernameBlur:function(){var e=this;setTimeout((function(){e.fix.clear=!1}),10)},viewChange:function(){this.fix.view=!!this.input.password},viewHandel:function(){this.view.active=!this.view.active,this.view.active?this.view.type="text":this.view.type="password"},loginHandel:function(){var e=this,t=this.phone.replace(/\s/gi,""),i=this.input.password;11===t.length?0!==i.length?(this.$toast.loading({duration:0,forbidClick:!0,mask:!1,message:"登录中..."}),this.$axios.post("/api/app/auth/login",{phone:t,password:i,device:this.input.device,platform:"web",system:navigator.userAgent,version:1e3}).then((function(t){var i=t.data.code,s=t.data.result;if(200===i)return localStorage.setItem("token",s.token),localStorage.setItem("salt",s.salt),localStorage.setItem("expires",s.expires),void setTimeout((function(){e.$router.replace("/user/index"),e.$toast.clear()}),1e3);4001!==i?e.$toast.fail("请稍后再试~"):e.$toast.fail("手机号或密码错误")}))):this.$toast("请输入密码"):this.$toast("请输入手机号码")}}},r=o,c=(i("7c3b"),i("2877")),u=Object(c["a"])(r,s,a,!1,null,"21e3cd80",null);t["default"]=u.exports},eb2f:function(e,t,i){e.exports=i.p+"img/clear.5329eb2d.svg"}}]);
//# sourceMappingURL=chunk-5e9e7d0a.f905047e.js.map